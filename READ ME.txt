1. General information
2. How to further customize the network (MetaboPathways)
3. Features

Copyright J.M. Posma 2015-2018

#####################################################################################################################

1. General information

Title: MetaboPathways Toolbox

Summary: MetaboPathways can be used to further customize the network generated by MetaboNetworks, for instance
             drawing custom edges, adding nodes, adding edges and adding a background layer to the figure.

Author: J. M. Posma
Institution: Imperial College London
Department: Computational and Systems Medicine, Department of Surgery and Cancer
Email: jmp111@ic.ac.uk
Version: 1.0
Citation: Posma JM, et al. (2014) Bioinformatics 30(6):893-5

Platform dependence: none found (tested on Windows 7, Mac OSX 7.14 (Snow Leopard))
Software dependence: none found (tested on Matlab versions 2010b, 2012a, 2012b, 2013a, 2013b, 2014a)
                     one found (2014b - software does not work in this version)
Data dependence:     requires the data (.mat) from a saved network (in .fig) from MetaboNetworks
Toolbox dependence:  none

#####################################################################################################################

2. How to further customize the network:

Run in Matlab:

>> MetaboPathways

This will start a GUI which asks the user to open a database (choose a .mat generated by MetaboNetworks).

#####################################################################################################################

3. Features:

Add nodes (shown with different border style compared to metabolites in the original network)
Add edges (shown with different line style compared to edges from the original network)
Delete nodes (only added nodes can be deleted)
Delete edges (only added edges can be deleted)
Move nodes (as in MetaboNetworks)
Draw custom edges (rounded edge, custom edge shape, straight edge)
  Asks the user to select two metabolites with an edge to redraw, then:
  For the 'rounded edge' option the user can choose between two edges (red and blue), click close to the coloured
    marker (red square, blue circle) to select one
  For the 'custom edge' option the user must click points from the red square node to the blue circle node to redraw
    the path. Once finished (switch toggle to 'off') a smoother draws the path through the chosen points
  For the 'straight edge' option the original straight edge between two nodes is restored
Draw pathways (manual, automatic) - need to first switch on the 'draw mode' toggle
  Both both manual and automatic drawing the user is asked to name the pathway and choose a colour, then:
  For the 'manual' drawing, the user clicks multiple times in the figure to indicate the path (last point will
    automatically be connected to the first), to stop adding points switch button-toggle to 'off'. Next, points are
    matched against points of other already existing pathways subject to a distance threshold (this can be set
    separately)
  For the 'automatic' drawing, the user selects all metabolites that the user considered to be in the same class/
    pathway, once the button-toggle is switched to 'off' a nearest neighbour approach followed by fitting a concave
    hull is used to draw the pathway. Because the nearest neighbour approach is dependent on a grid search, the user
    can choose the number of points both both axes)
Alter drawn pathways (move, add, delete points), this depends on which is the 'current pathway', by default this is
  the last one drawn, or is can be selected manually
Delete drawn pathways
Show the background shading map (without network as transparent shapes are used)
Save the network (tif, png or eps) with a specific resolution (600, 300 or 150 dpi) and colour (rgb or cmyk):
  If pathways have been drawn, two additional figures are saved, an 'alpha' layer (black-white version of network)
    and the 'background' layer with the chosen transparency (parameter can be chosen my user).
  These 3 figures should be merged in professional software such as Photoshop. Or the free software GIMP can be used.
  For using GIMP (http://www.gimp.org), open all 3 figures in GIMP:
    Add a layer mask (white) to the network figure
    Select the entire 'alpha' layer and copy it
    Paste the 'alpha' layer to the network figure (that already has the mask!)
    You will see a checkered pattern as background to the network (this means the background is transparent)
    Next, copy the visible part of the network (see edit menu)
    Paste that onto the background layer (do not add a mask to the background layer)
    Save the combined figure (or crop, resize, etc. and then save)
On closing the GUI the data (for MetaboPathways) is saved with the same filename as the original data with
  '_PathwayData' added at the end, if you want to continue editing a network open this file rather than the original
  to commence where you left off

#####################################################################################################################
